(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{b9db3f681b2e833d6767:function(e,t,n){"use strict";n.r(t),n.d(t,"NodePage",(function(){return Re}));var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),a=(n("8a2d1b95e05b6a321e74"),n("d7dd51e1bf6bfc2c9c3d")),c=n("0d7f0986bcd2f33d8a2a"),i=n("a28fc3c963a1d4d1a2e5"),u=n("ab4cb61bcb2dc161defb"),f=n("6938d226fd372a75cbf9"),s=n("435859b6b76fb67a754a"),l=n.n(s),d=n("b02fe3f80d4238b52f20"),p=n.n(d),b=n("f8286fe65ca06bcb51b6"),m=n.n(b),y=n("e63d4adcf4e70dde54c8"),v=n.n(y),g=n("1ae545a61fbc5b2d4bdd"),h=n.n(g),O=n("ecbdedbb63dd08b2841e"),j=n.n(O),w=n("b27e083e7741c2dccb3f"),x=n.n(w),k=n("be638c054224589367e1"),N=n.n(k),S=n("4e1426f5a59fad439a7a"),_=n.n(S),P=n("7893a75a6da29ed501c6"),R=n.n(P),I=n("ae5f713abf5916a039fd"),T=n.n(I),E=n("d795735979d0dd4c1bcb"),A=n("adc20f99e57c573c589c"),D=n("d95b0cf107403b178365"),C=function(e){return e.get("nodePage")},L=function(){return Object(i.a)(C,(function(e){return e.get("channel")}))},U=function(){return Object(i.a)(C,(function(e){return e.toJS()}))},J=n("54f683fcda7806277002"),M="app/NodePage",H="".concat(M,"/INIT"),F="".concat(M,"/MOUNT"),W="".concat(M,"/UNMOUNT"),$="".concat(M,"/INIT_CHANNEL"),q="".concat(M,"/UNSET_CHANNEL"),z="".concat(M,"/NODE_STATE"),B="".concat(M,"/NODE_INFO"),G="".concat(M,"/LIST_INFO");function K(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Q=Object(J.fromJS)({nodes:[],node_list:[],name:"",isAlive:!1,from:{},channel:null});var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case H:case F:case W:return e;case $:return e.set("channel",n.channel);case q:return e.set("channel",null);case z:return e.merge(n);case B:var o=n.from,a=K(n,["from"]);return o===e.get("name")?e.mergeIn(["from",o],a).merge(a):e.mergeIn(["from",o],a);case G:var c=n.from,i=K(n,["from"]);return c===e.get("name")?e.mergeIn(["from",c],i).merge(i):e.mergeIn(["from",c],i);default:return e}};function X(){return{type:H,payload:{}}}function Y(){return{type:F,payload:{}}}function Z(){return{type:W,payload:{}}}function ee(e){return{type:$,payload:{channel:e}}}var te,ne=n("d782b72bc5b680c7122c"),re=n("3562001638983595ee40"),oe=n("6542cd13fd5dd1bcffd4"),ae=regeneratorRuntime.mark(fe),ce=regeneratorRuntime.mark(le),ie=regeneratorRuntime.mark(de),ue=regeneratorRuntime.mark(pe);function fe(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return{},n.next=3,Object(ne.select)(Object(oe.a)());case 3:return e=n.sent,n.prev=4,t=e.channel("node:lobby",{}),n.next=8,Object(ne.put)(ee(t));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(4),console.error(n.t0);case 13:case"end":return n.stop()}}),ae,null,[[4,10]])}function se(e){return Object(re.eventChannel)((function(t){return e.on("node_state",(function(e){t(function(e){return{type:z,payload:e}}(e))})),e.on("node_info",(function(e){t(function(e){return{type:B,payload:e}}(e))})),e.on("list_info",(function(e){t(function(e){return{type:G,payload:e}}(e))})),function(){return e.off()}}))}function le(){var e,t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(ne.select)(L());case 2:return e=r.sent,r.prev=3,e.join(),r.next=7,Object(ne.call)(se,e);case 7:t=r.sent;case 8:return r.next=11,Object(ne.take)(t);case 11:return n=r.sent,r.next=14,Object(ne.put)(n);case 14:r.next=8;break;case 16:r.next=21;break;case 18:r.prev=18,r.t0=r.catch(3),console.log(r.t0);case 21:case"end":return r.stop()}}),ce,null,[[3,18]])}function de(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ne.select)(L());case 2:return e=t.sent,t.prev=3,e.leave(),t.next=7,Object(ne.put)({type:q,payload:{}});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.log(t.t0);case 12:case"end":return t.stop()}}),ie,null,[[3,9]])}function pe(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.takeLatest)(H,fe);case 2:return e.next=4,Object(ne.takeLatest)(F,le);case 4:return e.next=6,Object(ne.takeLatest)(W,de);case 6:case"end":return e.stop()}}),ue)}function be(e){return(be="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t,n,r){te||(te="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var c=new Array(a),i=0;i<a;i++)c[i]=arguments[i+3];t.children=c}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:te,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=je(e);if(t){var o=je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){return!t||"object"!==be(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var we=me(R.a,{}),xe=me(T.a,{}),ke=me(c.Helmet,{},void 0,me("title",{},void 0,"NodePage"),me("meta",{name:"description",content:"Description of NodePage"})),Ne=me(_.a,{}),Se=me(R.a,{}),_e=me(T.a,{}),Pe=me(x.a,{}),Re=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(a,e);var t,n,r,o=he(a);function a(){return ye(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"componentWillMount",value:function(){this.props.init()}},{key:"componentDidMount",value:function(){this.props.mount()}},{key:"componentWillUnmount",value:function(){this.props.unmount()}},{key:"content",value:function(e){var t=this;return e&&e.get("nodes")?me(h.a,{},void 0,e.get("nodes").map((function(n){return me(N.a,{className:t.props.classes.chip,label:n,avatar:me(j.a,{},void 0,e.get("node_list").includes(n)?we:xe)},n)}))):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=(t.theme,t.node),o=t.list,a=t.from;return me(E.a,{},void 0,ke,me(l.a,{container:!0,justify:"center",className:n.root},void 0,me(l.a,{item:!0,md:11,sm:10},void 0,me(l.a,{container:!0,spacing:24,justify:"center"},void 0,me(l.a,{item:!0,md:3,sm:4},r.get("name"),me(p.a,{},void 0,me(m.a,{},void 0,me(v.a,{avatar:me(j.a,{"aria-label":"Recipe",className:n.avatar},void 0,Ne),title:r.get("name"),subheader:r.get("isAlive")?"Started":"Stopped"}))))),me(l.a,{container:!0,spacing:24,justify:"center"},void 0,o.get("nodes").map((function(t){return me(l.a,{item:!0,md:3,sm:4},t,me(p.a,{},void 0,me(m.a,{},void 0,me(v.a,{avatar:me(j.a,{"aria-label":"Recipe",className:n.avatar},void 0,o.get("node_list").includes(t)?Se:_e),title:t}),Pe,e.content(a.get(t)))))}))))))}}])&&ve(t.prototype,n),r&&ve(t,r),a}(o.a.PureComponent);Re.displayName="NodePage";var Ie=Object(i.b)({nodePage:U(),node:Object(i.a)(C,(function(e){return e.filter((function(e,t){return"name"===t||"isAlive"===t}))})),list:Object(i.a)(C,(function(e){return e.filter((function(e,t){return 0===t.indexOf("node")}))})),from:Object(i.a)(C,(function(e){return e.get("from")}))}),Te=Object(a.connect)(Ie,(function(e){return Object(u.bindActionCreators)({init:X,mount:Y,unmount:Z},e)})),Ee=Object(D.a)({key:"nodePage",reducer:V}),Ae=Object(A.a)({key:"nodePage",saga:pe});t.default=Object(u.compose)(Ee,Ae,Te,Object(f.withStyles)((function(e){return{root:{marginTop:"1em"},card:{display:"flex"},details:{display:"flex",flexDirection:"column"},chip:{margin:"0.618em"}}}),{withTheme:!0}))(Re)}}]);