(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"9ec5e2a10e4d4ad00e59":function(s,a){s.exports="<h3 id=redux-\u7b80\u8ff0>Redux \u7b80\u8ff0</h3> <p>Redux \u63d0\u4f9b\u7ed9\u5e94\u7528\u4e00\u4e2a\u53ef\u9884\u6d4b\u7684\u72b6\u6001\u7ba1\u7406\u673a\u5236\uff0c\u53ef\u4ee5\u8fd0\u884c\u4e8e\u4e0d\u540c\u7684\u73af\u5883</p> <p>Redux \u8bbe\u8ba1API\u7b80\u5355\uff0c\u6e05\u6670\uff0c\u6d4b\u8bd5\u65b9\u4fbf\uff0c\u6613\u4e8e\u4e0a\u624b</p> <h3 id=redux-\u6838\u5fc3api\u4ecb\u7ecd>Redux \u6838\u5fc3API\u4ecb\u7ecd</h3> <ul> <li><p>store</p> <p>\u5168\u5c40\u552f\u4e00\u7684\u72b6\u6001\u5b58\u8d2e\u5e93\uff0c\u5185\u90e8\u7ef4\u62a4\u4e00\u4e2a\u4e0d\u53ef\u53d8\u5bf9\u8c61\u6811</p> <p>store \u9700\u8981\u5305\u542b3\u4e2a\u65b9\u6cd5\uff1a</p> <ul> <li><code>dispatch</code> \u7528\u6765\u63a5\u53d7action</li> <li><code>getState</code> \u8fd4\u56destore\u5185\u7684\u72b6\u6001</li> <li><code>subscribe</code> \u63a5\u53d7\u4e00\u4e2a\u56de\u8c03\uff0c\u5728\u72b6\u6001\u66f4\u65b0\u540e\u4f1a\u89e6\u53d1\u56de\u8c03</li> </ul> </li> <li><p>action</p> <p>\u9700\u8981\u4fee\u6539store\u72b6\u6001\u65f6\uff0c\u53d1\u9001\u7ed9store</p> <p>action \u5fc5\u987b\u5305\u542b\u4e00\u4e2a<code>type</code>\u5c5e\u6027\uff0c\u7528\u4e8ereducer\u5339\u914d</p> </li> <li><p>reducer</p> <p>store\u63a5\u53d7\u5230Action\u540e\uff0c\u6839\u636eaction\u6765\u6307\u5b9a\u66f4\u65b0\u6570\u636e\u7684\u65b9\u6cd5</p> <p>\u63a5\u53d7\u53c2\u6570 <code>state</code>, <code>action</code> \u8fd4\u56de\u66f4\u65b0\u540e\u7684state</p> </li> </ul> <h3 id=\u7b80\u5355\u5b9e\u73b0>\u7b80\u5355\u5b9e\u73b0</h3> <pre class=hljs><code class=language-javascript>\n<span class=hljs-keyword>const</span> ADD = <span class=hljs-string>'ADD'</span>;\n\n<span class=hljs-keyword>const</span> reducer = <span class=hljs-function>(<span class=hljs-params>state, action</span>) =&gt;</span> {\n  <span class=hljs-keyword>switch</span>(action.type) {\n    <span class=hljs-keyword>case</span> ADD:\n      <span class=hljs-keyword>return</span> {<span class=hljs-attr>value</span>: state.value + action.value}\n    <span class=hljs-attr>default</span>:\n      <span class=hljs-keyword>return</span> state;\n  }\n}\n\n<span class=hljs-keyword>const</span> createStore = <span class=hljs-function>(<span class=hljs-params>reducer</span>) =&gt;</span> {\n  <span class=hljs-keyword>let</span> listeners = []\n  <span class=hljs-keyword>let</span> state = {<span class=hljs-attr>value</span>: <span class=hljs-number>0</span>}\n\n  <span class=hljs-keyword>let</span> dispatch = <span class=hljs-function>(<span class=hljs-params>action</span>) =&gt;</span> {\n    state = reducer(state, action)\n    listeners.forEach(<span class=hljs-function><span class=hljs-params>cb</span> =&gt;</span> cb())\n  }\n\n  <span class=hljs-keyword>return</span> {\n    <span class=hljs-attr>getState</span>: <span class=hljs-function><span class=hljs-params>_</span>=&gt;</span> state,\n    <span class=hljs-attr>subscribe</span>: <span class=hljs-function>(<span class=hljs-params>cb</span>)=&gt;</span> listeners.push(cb),\n    <span class=hljs-attr>dispatch</span>: dispatch\n  }\n}\n\n<span class=hljs-keyword>const</span> store = createStore(reducer)\n\nstore.subscribe(<span class=hljs-function><span class=hljs-params>()</span> =&gt;</span> <span class=hljs-built_in>console</span>.log(store.getState()))\n\nstore.dispatch({<span class=hljs-attr>type</span>: ADD, <span class=hljs-attr>value</span>: <span class=hljs-number>5</span>})\n\nstore.dispatch({<span class=hljs-attr>type</span>: ADD, <span class=hljs-attr>value</span>: <span class=hljs-number>10</span>})\n\n\n</code></pre><h3 id=\u4e09\u5927\u539f\u5219>\u4e09\u5927\u539f\u5219</h3> <ul> <li><p>\u5355\u4e00\u6570\u636e\u6e90</p> </li> <li><p>State \u662f\u53ea\u8bfb\u7684</p> </li> <li><p>\u4f7f\u7528\u7eaf\u51fd\u6570\u6267\u884c\u4fee\u6539</p> </li> </ul> <h3 id=\u76f8\u5173\u6280\u672f>\u76f8\u5173\u6280\u672f</h3> <ul> <li><p>\u51fd\u6570\u5f0f\u7f16\u7a0b</p> </li> <li><p>Flux</p> </li> <li><p>Immutable</p> </li> </ul> "}}]);