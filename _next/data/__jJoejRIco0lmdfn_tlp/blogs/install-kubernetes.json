{"pageProps":{"slug":"install-kubernetes","blog":{"id":22,"name":"install-kubernetes","title":"安装Kubernetes","date":"2018-08-02","author":"Gao","content":"# 在 Ubuntu 上安装 kubeadm\n\n## 安装之前\n\n基本配置要求：\n\n- One or more machines running one of:\n  - Ubuntu 16.04+\n  - Debian 9\n  - CentOS 7\n  - RHEL 7\n  - Fedora 25/26 (best-effort)\n  - HypriotOS v1.0.1+\n  - Container Linux (tested with 1576.4.0)\n- 2 GB or more of RAM per machine (any less will leave little room for your\n  apps)\n- 2 CPUs or more\n- Full network connectivity between all machines in the cluster (public or\n  private network is fine)\n- Unique hostname, MAC address, and product_uuid for every node. See here for\n  more details.\n- Certain ports are open on your machines. See here for more details.\n- Swap disabled. You MUST disable swap in order for the kubelet to work\n  properly.\n\n## 安装 Docker\n\n```\napt-get update\napt-get install -y apt-transport-https ca-certificates curl software-properties-common\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -\nadd-apt-repository \"deb https://download.docker.com/linux/$(. /etc/os-release; echo \"$ID\") $(lsb_release -cs) stable\"\napt-get update && apt-get install -y docker-ce=$(apt-cache madison docker-ce | grep 17.03 | head -1 | awk '{print $3}')\n```\n\n## 安装 kubeadm, kubelet and kubectl\n\n```\napt-get update && apt-get install -y apt-transport-https curl\ncurl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\ncat <<EOF >/etc/apt/sources.list.d/kubernetes.list\ndeb http://apt.kubernetes.io/ kubernetes-xenial main\nEOF\napt-get update\napt-get install -y kubelet kubeadm kubectl\napt-mark hold kubelet kubeadm kubectl\n```\n\n## 运行\n\n```\nkubeadm init\n```\n"}},"__N_SSG":true}