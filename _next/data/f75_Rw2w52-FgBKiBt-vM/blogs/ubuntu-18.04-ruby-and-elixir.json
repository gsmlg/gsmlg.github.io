{"pageProps":{"slug":"ubuntu-18.04-ruby-and-elixir","blog":{"id":16,"slug":"ubuntu-18.04-ruby-and-elixir","title":"在Ubuntu18.04上安装ruby和elixir开发环境","date":"2018-05-09","author":"Gao","content":"# Ubuntu 18.04 Ruby and Elixir Development Setup\n\nGuide to setting up a new Ubuntu 18.04 dev environment with Ruby and Elixir\ninstalled with the asdf version management tool.\n\n## Update system and install prerequisite packages\n\nSome of these packages may already be installed\n\n```bash\nsudo apt-get install mercurial make binutils bison gcc \\\n build-essential git curl zlib1g-dev openssl libssl-dev libreadline-dev \\\n libyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt1-dev libcurl4-openssl-dev \\\n software-properties-common wget dnsutils vim zip unzip screen tmux htop \\\n libffi-dev redis-server imagemagick ntp ufw sudo dirmngr libxrender1\n```\n\nInstall postfix SMTP server (Choose internet site configuration and use the\nserver's domain name)\n\n```bash\nsudo apt-get install postfix\n```\n\nEdit postfix config file\n\n```bash\nsudo vim /etc/postfix/main.cf\n```\n\nSet inet_interfaces to be loopback-only\n\n```\ninet_interfaces = loopback-only\n```\n\nGenerate an SSH keypair used for deployments\n\n```bash\nssh-keygen -t rsa -C \"YOUR@EMAIL.com\"\n```\n\nCopy the output of this command and paste into\n[github SSH key settings](https://github.com/settings/keys).\n\n```bash\ncat ~/.ssh/id_rsa.pub\n```\n\nCheck to make sure SSH to github works with your key\n\n```bash\nssh -T git@github.com\n```\n\n## PostgreSQL\n\n```bash\nsudo apt-get install postgresql-10 libpq-dev\n```\n\nSet postgres user password\n\n```\nsudo -u postgres psql\npostgres=# \\password postgres\n```\n\n## zsh and oh-my-zsh\n\n```bash\nsudo apt-get install zsh fonts-powerline\nchsh -s $(which zsh)\n# logout and back in\nsh -c \"$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\"\n```\n\n## asdf version manager\n\n```bash\nsudo apt-get install automake autoconf libreadline-dev libncurses-dev \\\nlibssl-dev libyaml-dev libxslt-dev libffi-dev libtool unixodbc-dev \\\nlibwxgtk3.0-dev libgl1-mesa-dev  libglu1-mesa-dev libssh-dev xsltproc fop \\\nlibxml2-utils\n\ngit clone https://github.com/asdf-vm/asdf.git ~/.asdf --branch v0.4.3\n\n# add to bottom of .zshrc\necho -e '\\n. $HOME/.asdf/asdf.sh' >> ~/.zshrc\necho -e '\\n. $HOME/.asdf/completions/asdf.bash' >> ~/.zshrc\n\nsource ~/.zshrc\n```\n\n## Ruby and Ruby on Rails\n\n```bash\nasdf plugin-add ruby\nasdf install ruby 2.5.1\nasdf global ruby 2.5.1\nruby -v\n```\n\nTell RubyGems to not install documentation for each gem\n\n```bash\necho \"gem: --no-ri --no-rdoc\" > ~/.gemrc\n```\n\nInstall bundler and rails\n\n```bash\ngem install bundler\ngem install rails\n```\n\n## Node.js\n\n```bash\nasdf plugin-add nodejs https://github.com/asdf-vm/asdf-nodejs.git\nbash ~/.asdf/plugins/nodejs/bin/import-release-team-keyring\nasdf install nodejs 9.11.1\nasdf global nodejs 9.11.1\nnode -v\n```\n\n## Erlang, Elixir and Phoenix\n\n### Erlang\n\n```bash\nasdf plugin-add erlang\nasdf install erlang 20.3.4\nasdf global erlang 20.3.4\n```\n\n### Elixir\n\n```bash\nasdf plugin-add elixir https://github.com/asdf-vm/asdf-elixir.git\nasdf install elixir 1.6.4\nasdf global elixir 1.6.4\nelixir -v\n```\n\n### Phoenix\n\n```bash\nsudo apt-get install inotify-tools\nmix local.hex\nmix archive.install https://github.com/phoenixframework/archives/raw/master/phx_new.ez\n```\n\n## Other Tools\n\n### wkhtmltopdf\n\nThe wkhtmltopdf packge available in debian repo is version with unpatched QT.\nYou most likely want version with patched QT, so download the precompiled\nbinaries for Linux from https://wkhtmltopdf.org/downloads.html, extract them and\ncp the binaries in bin folder to `/usr/bin/`\n\nAt the time of writing, the latest version is 0.12.4 which has an issue fetching\nremote images over https, so you will need to install libssl1.0-dev\n\n```bash\nsudo apt-get install libssl1.0-dev\n```\n\n### PostGIS and Geospatial related tool dependencies\n\n```bash\nsudo apt-get install python-all-dev python-dev python3-pip \\\n libaio-dev libbz2-dev libjpeg-turbo8-dev libpcre3-dev libexpat1-dev \\\n liblzma-dev libevent-dev binutils libproj-dev xsltproc docbook-xsl \\\n docbook-mathml libgeos-dev libgeos-3.6.2 postgresql-10-postgis-2.4 \\\n libgdal-dev python3-gdal python3-numpy gdal-bin postgresql-10-postgis-scripts\n```\n\nAdd to .zshrc\n\n```bash\nexport CPLUS_INCLUDE_PATH=/usr/include/gdal\nexport C_INCLUDE_PATH=/usr/include/gdal\n```\n\nMake sure rgeo will be able to find geos\n\n```bash\nsudo ln -s /usr/lib/x86_64-linux-gnu/libgeos-3.6.2.so /usr/lib/libgeos.so\ngem install rgeo\n```\n"},"lightCss":"pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#c18401}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}","darkCss":"pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#e6c07b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}"},"__N_SSG":true}