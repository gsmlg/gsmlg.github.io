{"pageProps":{"slug":"openapi-intro","blog":{"id":48,"slug":"openapi-intro","title":"OpenAPI使用","date":"2020-09-08","author":"Gao","content":"### OpenAPI Specification 使用\n\nOpen API Specification 是由社区驱动的一套开放标准定义了一套面向 Rest API 的不和\n编程语言绑定的接口规范\n\n我们可以通过 Open API 定义的规范来生成对应的文档, Mock Server, Test,\nServer/Client 代码模版\n\n方便的快速开发和分享, 可以直接给客户看到对应的文档来解决问题.\n\n### OpenAPI 开发工具\n\n**Swagger Editor**\n\n可以编辑 OpenAPI 文档\n\n### OpenAPI 基本介绍\n\n文档格式为 yaml 的 OpenAPI\n\n```yaml\n# API版本\nopenapi: 3.0.0\n# APP信息\ninfo:\n  # App 版本\n  version: 1.0.0\n  title: gsmlg-web\n  description: GSMLG Web API\n  # A URL to the Terms of Service for the API\n  termsOfService: https://www.gsmiot.com/termOfService\n  # contact info\n  contact:\n    name: Jonathan\n    url: https://www.gsmlg.org\n    email: me@gsmlg.org\n  # License\n  license:\n    name: 'GPL 3.0'\n    url: 'https://www.gnu.org/licenses/GPL-3.0.html'\n# Added by API Auto Mocking Plugin\nservers:\n  - description: SwaggerHub API Auto Mocking\n    url: https://virtserver.swaggerhub.com/gsmlg/gsmlg-web/1.0.0\n  - description: Production API\n    url: https://www.gsmiot.com/apis/gsmlg.com/v1\n  - url: https://{username}.gsmlg.org:{port}/{basePath}\n    description: aboard\n    variables:\n      username:\n        default: Josh\n        description: value for username\n      port:\n        enum:\n          - '443'\n          - '8443'\n        default: '8443'\n      basePath:\n        default: v2\n# 标签, 分类使用\ntags:\n  - name: blog\n    description: blog\n    externalDocs:\n      url: https://blog.gsmlg.org/docs\n      description: Blog Description\n# 服务路径, 揭示API\npaths:\n  '/blogs':\n    get:\n      tags:\n        - blog\n      summary: blogs list\n      operationId: listBlogs\n      responses:\n        200:\n          description: Success\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  date:\n                    type: array\n                    items:\n                      $ref: '#/components/schemas/Blog'\n\n    post:\n      tags:\n        - blog\n      summary: Create Blog\n      description: create blog\n      operationId: createBlog\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/Blog'\n      responses:\n        201:\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Blog'\n\n  '/blogs/{blogId}':\n    get:\n      tags:\n        - blog\n      summary: Get a Blog content\n      operationId: getBlogById\n      parameters:\n        - name: blogId\n          in: path\n          required: true\n          description: id of blog\n          schema:\n            type: string\n      responses:\n        200:\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Blog'\n    put:\n      tags:\n        - blog\n      summary: Update a Blog\n      operationId: updateBlog\n      parameters:\n        - name: blogId\n          in: path\n          required: true\n          description: id of blog\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/Blog'\n      responses:\n        201:\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Blog'\n# 组建, 共享资源时, 引用定义在这里\ncomponents:\n  schemas:\n    Blog:\n      type: object\n      properties:\n        id:\n          type: string\n        name:\n          type: string\n        title:\n          type: string\n        date:\n          type: string\n        author:\n          type: string\n        content:\n          type: string\n  securitySchemes:\n    auth:\n      type: http\n      description: auth api key\n      scheme: bearer\n      bearerFormat: JWT\nsecurity:\n  - auth:\n      - write:blog\nexternalDocs:\n  url: https://docs.gsmlg.org\n  description: API Documents\n```\n\n### 其它工具资源\n\n- [AWESOME OpenAPI3](https://apis.guru/awesome-openapi3/)\n\n- [Swagger Editor](https://editor.swagger.io)\n\n- [OpenAPI Tools](https://openapi.tools)\n"},"lightCss":"pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#c18401}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}","darkCss":"pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#e6c07b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}"},"__N_SSG":true}