{"pageProps":{"slug":"component-based","blog":{"author":"Gao","content":"## 概念\n\n基于组件的软件工程（Component-based software engineering，简称 CBSE）或基于组件\n的开发（Component-Based Development，简称 CBD）是一种软件开发范型。\n\n它是现今软件复用理论实用化的研究热点，在组件对象模型的支持下，通过复用已有的构件\n，软件开发者可以“即插即用”地快速构造应用软件。\n\n这样不仅可以节省时间和经费，提高工作效率，而且可以产生更加规范、更加可靠的应用软\n件。\n\n## 什么是组件？\n\n摘自 Wikipedia：\n\n    一个单独的软件组件是一个软件包，一个Web服务，一个Web资源，或封装了一组相关功能（或数据）的模块。\n\n    组件通过接口相互通信。当一个组件向系统的其他部分提供服务时，它会采用一个提供的接口来指定其他组件可以使用的服务，以及如何这样做。这个接口可以被看作是组件的签名 - 客户端不需要知道组件的内部工作（实现），以便使用它。这个原理导致组件被称为封装。\n\n## Web 设计的 3 层结构\n\n- 结构层 Structural layer => HTML\n\n- 表现层 Design layer => CSS\n\n- 行为层 Behavioral layer => JavaScript\n\n一个独立的组件需要包含这 3 层结构，并且提供 API 接口，和其他组件之间通信。\n\n设计一个组件需要有可编程接口，可以通过行为层控制，而这些都需要通过 js 来控制\n\n涉及技术：\n\n- html in js\n- css in js\n\n## React 组件\n\nReact 是一个用于创建用户 UI 的 JavaScript 库\n\nReact 组件可以被认为是一个基本的视图元素，用户界面中的一个片段。\n\n在一个应用中，组件具有巢状结构，整个应用由一些容器组件构成，而容器组件由多级组件\n嵌套构成。\n\n## 设计分类：\n\n- Component UI 组件\n\n- Container 组件容器，包含 UI 组件，并且给 UI 组件绑定相应的数据\n\n### UI 组件\n\nUI 组件需要包含了完整页面部分和展示结构，以及对应行为接口.\n\n一个 UI 组件是完整的，独立的，可测试的。\n\n可以参考的 React UI 组件库：\n\n- [Semantic UI](https://react.semantic-ui.com/introduction)\n\n- [Material UI](https://material-ui-next.com/getting-started/installation/)\n\n目前需要提取当前 UI 组件，实现组件独立可重用。当前有待实现的是 Dialog 模块的\nReact 组件化\n\n### Container 容器组件\n\n容器组件是由 UI 组件和业务数据，处理逻辑组成容器把业务数据和 UI 组件绑定，构成一\n个对应的功能模块\n\n### container 的绑定\n\n在 React 中，组件拥有生命周期，数据和 UI 的绑定会和生命周期方法相关通过生命周期\n方法来关联数据\n\n### 高阶组件 Hight-Order Components\n\n高阶组件是 React 的一项高级技术，来实现组件的重用。高阶组件是由 React 设计而衍生\n出的一种构成模式。\n\n高阶组件实质上是一个函数，接受一个组件传入，并返回一个新的组件。高阶组件常见于\nReact 相关的第三方库，比如 Redux 的 connect 函数\n\n目前有待实现的高阶组件：\n\n- loadModule：分离一个模块到单独的文件，实现模块依赖加载，当时用到的时候才会去加\n  载对应的功能模块。\n\n- withReducer：分割 Reducer 处理逻辑，分模块加载 reducer 控制逻辑\n\n- withEffects：分割模块 action 异步控制逻辑，管理 action 调度功能目前可以参考的\n  是 saga 和 reactivex 技术\n\n## React context 技术\n\nReact context 技术可以在应用上发布一个共享数据集合，应用下的任何一个组件都可以通\n过声明订阅的方式来获取这个数据。\n\n目前我们已经使用了这个技术的地方是 redux 的 Provider，发布了 store 给所有组件\n\n### 其他类似功能实现：\n\n- LanguagePrivider 由 react-intl 提供，实现语言动态切换\n- JssProvider 由 CSS in JS 技术提供，结合 withStyles 高阶组件来实现动态样式更新\n- RouterProvider 由 React-Router 提供，实现 router 导航功能\n","date":"2017-11-16","id":9,"slug":"component-based","title":"组件化开发设计"}},"__N_SSG":true}