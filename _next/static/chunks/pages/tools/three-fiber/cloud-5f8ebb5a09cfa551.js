(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{9399:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/three-fiber/cloud",function(){return n(1985)}])},1985:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var r=n(5944),o=n(917),i=n(7294),a=n(9008),c=n(2458),s=n(5893),l=n(4232),u=n(9477);const f=e=>e===Object(e)&&!Array.isArray(e)&&"function"!==typeof e;function h(e){const t=(0,l.Ky)((e=>e.gl)),n=(0,l.U2)(u.TextureLoader,f(e)?Object.values(e):e);if((0,i.useEffect)((()=>{(Array.isArray(n)?n:[n]).forEach(t.initTexture)}),[t,n]),f(e)){const t=Object.keys(e),r={};return t.forEach((e=>Object.assign(r,{[e]:n[t.indexOf(e)]}))),r}return n}h.preload=e=>l.U2.preload(u.TextureLoader,e),h.clear=e=>l.U2.clear(u.TextureLoader,e);var v=n(7462),d=n(5878);const m=i.forwardRef((function({follow:e=!0,lockX:t=!1,lockY:n=!1,lockZ:r=!1,...o},a){const c=i.useRef();return(0,l.xQ)((({camera:o})=>{if(!e||!c.current)return;const i=c.current.rotation.clone();c.current.quaternion.copy(o.quaternion),t&&(c.current.rotation.x=i.x),n&&(c.current.rotation.y=i.y),r&&(c.current.rotation.z=i.z)})),i.createElement("group",(0,v.Z)({ref:(0,d.Z)([c,a])},o))}));var p=n(9888),y=n(4942);class g extends u.Mesh{constructor(){super(new u.BoxGeometry(1,1,1),g.material)}}function x(e,t,n=new u.Vector3){const r=Math.PI*(e-.5),o=2*Math.PI*(t-.5);return n.x=Math.cos(o),n.y=Math.sin(r),n.z=Math.sin(o),n}(0,y.Z)(g,"SkyShader",{uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new u.Vector3},up:{value:new u.Vector3(0,1,0)}},vertexShader:["uniform vec3 sunPosition;","uniform float rayleigh;","uniform float turbidity;","uniform float mieCoefficient;","uniform vec3 up;","varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );","const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );","const float v = 4.0;","const vec3 K = vec3( 0.686, 0.678, 0.666 );","const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );","const float cutoffAngle = 1.6110731556870734;","const float steepness = 1.5;","const float EE = 1000.0;","float sunIntensity( float zenithAngleCos ) {","\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );","\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );","}","vec3 totalMie( float T ) {","\tfloat c = ( 0.2 * T ) * 10E-18;","\treturn 0.434 * c * MieConst;","}","void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","\tgl_Position.z = gl_Position.w;","\tvSunDirection = normalize( sunPosition );","\tvSunE = sunIntensity( dot( vSunDirection, up ) );","\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );","\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );","\tvBetaR = totalRayleigh * rayleighCoefficient;","\tvBetaM = totalMie( turbidity ) * mieCoefficient;","}"].join("\n"),fragmentShader:["varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","uniform float mieDirectionalG;","uniform vec3 up;","const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003;","const float N = 2.545E25;","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","const float THREE_OVER_SIXTEENPI = 0.05968310365946075;","const float ONE_OVER_FOURPI = 0.07957747154594767;","float rayleighPhase( float cosTheta ) {","\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );","}","float hgPhase( float cosTheta, float g ) {","\tfloat g2 = pow( g, 2.0 );","\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );","\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );","}","void main() {","\tvec3 direction = normalize( vWorldPosition - cameraPos );","\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );","\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );","\tfloat sR = rayleighZenithLength * inverse;","\tfloat sM = mieZenithLength * inverse;","\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );","\tfloat cosTheta = dot( direction, vSunDirection );","\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );","\tvec3 betaRTheta = vBetaR * rPhase;","\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );","\tvec3 betaMTheta = vBetaM * mPhase;","\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );","\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );","\tfloat theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]","\tfloat phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]","\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );","\tvec3 L0 = vec3( 0.1 ) * Fex;","\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );","\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;","\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );","\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );","\tgl_FragColor = vec4( retColor, 1.0 );","#include <tonemapping_fragment>","#include <encodings_fragment>","}"].join("\n")}),(0,y.Z)(g,"material",new u.ShaderMaterial({name:"SkyShader",fragmentShader:g.SkyShader.fragmentShader,vertexShader:g.SkyShader.vertexShader,uniforms:u.UniformsUtils.clone(g.SkyShader.uniforms),side:u.BackSide,depthWrite:!1}));const b=i.forwardRef((({inclination:e=.6,azimuth:t=.1,distance:n=1e3,mieCoefficient:r=.005,mieDirectionalG:o=.8,rayleigh:a=.5,turbidity:c=10,sunPosition:s=x(e,t),...l},f)=>{const h=i.useMemo((()=>(new u.Vector3).setScalar(n)),[n]),[d]=i.useState((()=>new g));return i.createElement("primitive",(0,v.Z)({dispose:void 0,object:d,ref:f,"material-uniforms-mieCoefficient-value":r,"material-uniforms-mieDirectionalG-value":o,"material-uniforms-rayleigh-value":a,"material-uniforms-sunPosition-value":s,"material-uniforms-turbidity-value":c,scale:h},l))}));function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function P(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e){var t=e.size,n=void 0===t?1:t,r=e.opacity,o=void 0===r?.5:r,a=e.speed,c=void 0===a?.4:a,u=e.spread,f=void 0===u?10:u,v=e.length,d=void 0===v?1.5:v,p=e.segments,y=void 0===p?20:p,g=e.dir,x=void 0===g?1:g,b=E(e,["size","opacity","speed","spread","length","segments","dir"]),j=(0,i.useRef)(),w=h("/images/cloud.png"),M=(0,i.useMemo)((function(){return P(new Array(y)).map((function(e,t){return{x:f/2-Math.random()*f,y:f/2-Math.random()*f,scale:.4+Math.sin((t+1)/y*Math.PI)*(10*(.2+Math.random()))*n,density:Math.max(.2,Math.random()),rotation:Math.max(.002,.005*Math.random())*c}}))}),[f,y,c,n]);return(0,l.xQ)((function(e){var t;return null===(t=j.current)||void 0===t?void 0:t.children.forEach((function(t,n){t.rotation.z+=M[n].rotation*x,t.scale.setScalar(M[n].scale+(1+Math.sin(e.clock.getElapsedTime()/10))/2*n/10)}))})),(0,s.jsx)("group",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}({},b,{children:(0,s.jsx)("group",{position:[0,0,y/2*d],ref:j,children:M.map((function(e,t){var n=e.x,r=e.y,i=e.scale,a=e.density;return(0,s.jsx)(m,{scale:[i,i,i],position:[n,r,-t*d],lockZ:!0,children:(0,s.jsx)("meshStandardMaterial",{map:w,transparent:!0,opacity:i/6*a*o,depthTest:!1})},t)}))})}))}function M(){return(0,s.jsx)(w,{size:2,rotation:[0,Math.PI/2,0],position:[0,75,-100],scale:[10,10,10]})}function O(){return(0,s.jsxs)(l.Xz,{camera:{position:[0,-75,0]},children:[(0,s.jsx)("ambientLight",{intensity:.8}),(0,s.jsx)("pointLight",{intensity:2,position:[0,0,-1e3]}),(0,s.jsx)(i.Suspense,{fallback:null,children:(0,s.jsx)(M,{})}),(0,s.jsx)(p.z,{minPolarAngle:Math.PI/1.5,maxPolarAngle:Math.PI/1.5}),(0,s.jsx)(b,{azimuth:.5,turbidity:10,rayleigh:.5,inclination:.6,distance:1e5})]})}function C(){var e,t,n=(e=["\n          flex: 1 1 auto;\n        "],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return C=function(){return n},n}var T=function(e){return(0,r.jsxs)(c.Z,{children:[(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:"Three Fiber Cloud"}),(0,r.jsx)("meta",{name:"description",content:"Description of Cloud"})]}),(0,r.jsx)("div",{css:(0,o.css)(C()),children:(0,r.jsx)(O,{})})]})}},2458:function(e,t,n){"use strict";var r=n(5944),o=n(7294),i=n(2151),a=n(917),c=n(2293),s=n(155),l=n(3972),u=n(3321),f=n(3946),h=n(326),v=n(4353),d=n(1664),m=n(6127),p=n(4209);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(){var e,t,n=(e=["\n              margin: 0 2em;\n              display: ","\n            "],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return x=function(){return n},n}var b=(0,i.ZP)("section")((function(e){e.theme;return{display:"flex",minHeight:"100vh",flexDirection:"column",flex:"1 1 auto"}})),j=(0,i.ZP)("section")((function(e){e.theme;return{display:"flex",flex:"1 1 auto"}})),S=(0,i.ZP)("footer")((function(e){var t=e.theme;return{lineHeight:"2em",textAlign:"center",marginTop:"0.5em",color:t.palette.getContrastText(t.palette.primary.main),backgroundColor:t.palette.primary.main}})),E=(0,i.ZP)("div")((function(e){e.theme;return{display:"inline-block",width:16,height:16,borderRadius:8,margin:"0 8px",backgroundColor:e.status.color}})),P=[{name:"Home",href:"/"},{name:"Blog",href:"/blogs"},{name:"Presentation",href:"/presentations"},{name:"Tool",href:"/tools"},{name:"Game",href:"/games"}],w=function(e,t){var n=e.children,i=g(o.useState(!0),2),y=i[0],w=i[1];o.useEffect((function(){w("www.gsmlg.cn"===window.location.hostname)}),[]);var M=(0,m.sV)(),O=g(o.useState({color:"transperant"}),2),C=O[0],T=O[1],A=(0,p.p3)(),k=(0,p.dU)();o.useEffect((function(){if(A(),M){var e=function(){switch(M.connectionState()){case"connecting":T({color:"#ff0"});break;case"open":T({color:"#0f0"});break;case"closing":T({color:"#0ff"});break;default:T({color:"#f00"})}};e();var t=[M.onOpen(e),M.onClose(e),M.onError(e),M.onMessage(e)];return function(){M.off(t)}}}),[M]);var z=o.useCallback((function(){Notification.requestPermission()}),[]);return(0,r.jsxs)(b,{ref:t,children:[(0,r.jsx)(c.Z,{position:"static",children:(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(E,{status:C}),(0,r.jsx)(f.Z,{onClick:z,color:"inherit","aria-label":"Menu",size:"large",children:(0,r.jsx)(v.Z,{badgeContent:k,children:(0,r.jsx)(h.Z,{})})}),(0,r.jsx)(l.Z,{type:"title",color:"inherit",children:P.map((function(e){var t=e.name,n=e.href;return(0,r.jsx)(u.Z,{color:"inherit",children:(0,r.jsx)(d.default,{href:n,children:t})},t)}))})]})}),(0,r.jsx)(j,{children:n}),(0,r.jsx)(S,{style:{marginTop:0},children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("span",{id:"icp-info",css:(0,a.css)(x(),y?"inline":"none"),children:"\u4eacICP\u590720014476\u53f7-2"}),(0,r.jsx)("span",{children:"Copyright \xa9 2017-2022 GSMLG - Powered by GSMLG Web."})]})})]})};t.Z=o.forwardRef(w)}},function(e){e.O(0,[737,912,232,759,774,888,179],(function(){return t=9399,e(e.s=t);var t}));var t=e.O();_N_E=t}]);