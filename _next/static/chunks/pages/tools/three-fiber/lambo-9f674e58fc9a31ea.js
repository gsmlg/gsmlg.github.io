(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9095],{2470:function(e,t,r){"use strict";r.d(t,{j:function(){return c}});var a=r(7361),n=r(3981),i=r(5e3),o=r(6371);let s={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},l={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `},c=n.forwardRef(({scale:e=10,frames:t=1/0,opacity:r=1,width:c=1,height:u=1,blur:m=1,far:h=10,resolution:f=512,smooth:v=!0,color:d="#000000",depthWrite:p=!1,renderOrder:g,...x},y)=>{let b,M;let w=n.useRef(null),U=(0,o.z)(e=>e.scene),C=(0,o.z)(e=>e.gl),D=n.useRef(null);c*=Array.isArray(e)?e[0]:e||1,u*=Array.isArray(e)?e[1]:e||1;let[E,S,z,Z,j,P,T]=n.useMemo(()=>{let e=new i.WebGLRenderTarget(f,f),t=new i.WebGLRenderTarget(f,f);t.texture.generateMipmaps=e.texture.generateMipmaps=!1;let r=new i.PlaneGeometry(c,u).rotateX(Math.PI/2),a=new i.Mesh(r),n=new i.MeshDepthMaterial;n.depthTest=n.depthWrite=!1,n.onBeforeCompile=e=>{e.uniforms={...e.uniforms,ucolor:{value:new i.Color(d)}},e.fragmentShader=e.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),e.fragmentShader=e.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};let o=new i.ShaderMaterial(s),m=new i.ShaderMaterial(l);return m.depthTest=o.depthTest=!1,[e,r,n,a,o,m,t]},[f,c,u,e,d]),L=e=>{Z.visible=!0,Z.material=j,j.uniforms.tDiffuse.value=E.texture,j.uniforms.h.value=1*e/256,C.setRenderTarget(T),C.render(Z,D.current),Z.material=P,P.uniforms.tDiffuse.value=T.texture,P.uniforms.v.value=1*e/256,C.setRenderTarget(E),C.render(Z,D.current),Z.visible=!1},k=0;return(0,o.A)(()=>{D.current&&(t===1/0||k<t)&&(k++,b=U.background,M=U.overrideMaterial,w.current.visible=!1,U.background=null,U.overrideMaterial=z,C.setRenderTarget(E),C.render(U,D.current),L(m),v&&L(.4*m),C.setRenderTarget(null),w.current.visible=!0,U.overrideMaterial=M,U.background=b)}),n.useImperativeHandle(y,()=>w.current,[]),n.createElement("group",(0,a.Z)({"rotation-x":Math.PI/2},x,{ref:w}),n.createElement("mesh",{renderOrder:g,geometry:S,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},n.createElement("meshBasicMaterial",{transparent:!0,map:E.texture,"map-encoding":C.outputEncoding,opacity:r,depthWrite:p})),n.createElement("orthographicCamera",{ref:D,args:[-c/2,c/2,u/2,-u/2,0,h]}))})},9223:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/three-fiber/lambo",function(){return r(4321)}])},4321:function(e,t,r){"use strict";r.a(e,async function(e,a){try{r.r(t);var n=r(3833),i=r(8409),o=r(4982),s=r(8506),l=r.n(s),c=r(6672),u=r(1995),m=e([c]);function h(){let e=(0,n.Z)(["\n          flex: 1 1 auto;\n        "]);return h=function(){return e},e}c=(m.then?(await m)():m)[0],t.default=function(){return(0,i.BX)(c.Z,{children:[(0,i.BX)(l(),{children:[(0,i.tZ)("title",{children:"Three Fiber Lambo"}),(0,i.tZ)("meta",{name:"description",content:"Description of Lambo"})]}),(0,i.tZ)("div",{css:(0,o.iv)(h()),children:(0,i.tZ)(u.Z,{})})]})},a()}catch(e){a(e)}})},6672:function(e,t,r){"use strict";r.a(e,async function(e,a){try{var n=r(3833),i=r(8409),o=r(3981),s=r(4544),l=r(4982),c=r(8490),u=r(3472),m=r(2681),h=r(6862),f=r(7262),v=r(2531),d=r(9469),p=r(6676),g=r.n(p),x=r(8222),y=r(8718),b=r(1785);function M(){let e=(0,n.Z)(["\n        display: flex;\n        min-height: 100vh;\n        width: 100%;\n        flex: 1 1 auto;\n        flex-direction: column;\n      "]);return M=function(){return e},e}function w(){let e=(0,n.Z)(["\n              display: inline-block;\n              width: 16px;\n              height: 16px;\n              borderradius: 8px;\n              margin: 0 8px;\n              backgroundcolor: ",";\n            "]);return w=function(){return e},e}function U(){let e=(0,n.Z)(["\n          display: flex;\n          flex: 1 1 auto;\n        "]);return U=function(){return e},e}let e=(0,s.ZP)("footer")(e=>{let{theme:t}=e;return{lineHeight:"2em",textAlign:"center",marginTop:"0.5em",color:t.palette.getContrastText(t.palette.primary.main),backgroundColor:t.palette.primary.main}});(0,s.ZP)("div")(e=>{let{status:t}=e;return{display:"inline-block",width:16,height:16,borderRadius:8,margin:"0 8px",backgroundColor:t.color}});let C=[{name:"Home",href:"/"},{name:"Blog",href:"/blogs"},{name:"Presentation",href:"/presentations"},{name:"Tool",href:"/tools"}],D=(t,r)=>{let{children:a}=t,n=(0,y.sV)(),[s,p]=o.useState({color:"transperant"}),D=(0,b.p3)(),E=(0,b.dU)();o.useEffect(()=>{if(console.log((0,x.e)("Best in the World!")),D(),n){let e=()=>{let e=n.connectionState();switch(e){case"connecting":p({color:"#ff0"});break;case"open":p({color:"#0f0"});break;case"closing":p({color:"#0ff"});break;default:p({color:"#f00"})}};e();let t=[n.onOpen(e),n.onClose(e),n.onError(e),n.onMessage(e)];return()=>{n.off(t)}}return()=>{}},[n,D]);let S=o.useCallback(()=>{Notification.requestPermission()},[]);return(0,i.BX)("main",{ref:r,css:(0,l.iv)(M()),children:[(0,i.tZ)(c.Z,{position:"static",children:(0,i.BX)(u.Z,{children:[(0,i.tZ)("div",{css:(0,l.iv)(w(),s.color)}),(0,i.tZ)(f.Z,{onClick:S,color:"inherit","aria-label":"Menu",size:"large",children:(0,i.tZ)(d.Z,{badgeContent:E,children:(0,i.tZ)(v.Z,{})})}),(0,i.tZ)(m.Z,{type:"title",color:"inherit",children:C.map(e=>{let{name:t,href:r}=e;return(0,i.tZ)(h.Z,{color:"inherit",children:(0,i.tZ)(g(),{href:r,children:t})},t)})})]})}),(0,i.tZ)("div",{css:(0,l.iv)(U()),children:a}),(0,i.tZ)(e,{style:{marginTop:0},children:(0,i.tZ)("div",{className:"container",children:(0,i.tZ)("span",{children:"Copyright \xa9 2017-2023 GSMLG - Powered by GSMLG Web."})})})]})};t.Z=o.forwardRef(D),a()}catch(e){a(e)}})},1995:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var a=r(9541),n=r(5e3),i=r(3981),o=r(8865),s=r(9642),l=r(1118),c=r(7361),u=r(2470);let m=i.forwardRef(function({children:e,disable:t,disableX:r,disableY:a,disableZ:o,left:s,right:l,top:u,bottom:m,front:h,back:f,onCentered:v,precise:d=!0,...p},g){let x=i.useRef(null),y=i.useRef(null),b=i.useRef(null);return i.useLayoutEffect(()=>{y.current.matrixWorld.identity();let e=new n.Box3().setFromObject(b.current,d),i=new n.Vector3,c=new n.Sphere,p=e.max.x-e.min.x,g=e.max.y-e.min.y,M=e.max.z-e.min.z;e.getCenter(i),e.getBoundingSphere(c);let w=u?g/2:m?-g/2:0,U=s?-p/2:l?p/2:0,C=h?M/2:f?-M/2:0;y.current.position.set(t||r?0:-i.x+U,t||a?0:-i.y+w,t||o?0:-i.z+C),void 0!==v&&v({parent:x.current.parent,container:x.current,width:p,height:g,depth:M,boundingBox:e,boundingSphere:c,center:i,verticalAlignment:w,horizontalAlignment:U,depthAlignment:C})},[e]),i.useImperativeHandle(g,()=>x.current,[]),i.createElement("group",(0,c.Z)({ref:x},p),i.createElement("group",{ref:y},i.createElement("group",{ref:b},e)))});var h=r(6371);function f(e,t,r,a){let i=class extends n.ShaderMaterial{constructor(i={}){let o=Object.entries(e);super({uniforms:o.reduce((e,[t,r])=>{let a=n.UniformsUtils.clone({[t]:{value:r}});return{...e,...a}},{}),vertexShader:t,fragmentShader:r}),this.key="",o.forEach(([e])=>Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t})),Object.assign(this,i),a&&a(this)}};return i.key=n.MathUtils.generateUUID(),i}let v=f({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }"),d=i.createContext(null),p=f({color:new n.Color,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <encodings_fragment>
   }`),g=i.forwardRef(({children:e,temporal:t,frames:r=40,limit:a=1/0,blend:n=20,scale:o=10,opacity:s=1,alphaTest:l=.75,color:c="black",colorBlend:u=2,resolution:m=1024,toneMapped:f=!0,...v},g)=>{(0,h.e)({SoftShadowMaterial:p});let x=(0,h.z)(e=>e.gl),b=(0,h.z)(e=>e.scene),M=(0,h.z)(e=>e.camera),w=(0,h.z)(e=>e.invalidate),U=i.useRef(null),C=i.useRef(null),[D]=i.useState(()=>new y(x,b,m));i.useLayoutEffect(()=>{D.configure(U.current)},[]);let E=i.useMemo(()=>({lights:new Map,temporal:!!t,frames:Math.max(2,r),blend:Math.max(2,r===1/0?n:r),count:0,getMesh:()=>U.current,reset:()=>{D.clear();let e=U.current.material;e.opacity=0,e.alphaTest=0,E.count=0},update:(e=1)=>{let t=U.current.material;E.temporal?(t.opacity=Math.min(s,t.opacity+s/E.blend),t.alphaTest=Math.min(l,t.alphaTest+l/E.blend)):(t.opacity=s,t.alphaTest=l),C.current.visible=!0,D.prepare();for(let t=0;t<e;t++)E.lights.forEach(e=>e.update()),D.update(M,E.blend);C.current.visible=!1,D.finish()}}),[D,M,b,t,r,n,s,l]);return i.useLayoutEffect(()=>{E.reset(),E.temporal||E.frames===1/0||E.update(E.blend)}),i.useImperativeHandle(g,()=>E,[E]),(0,h.A)(()=>{(E.temporal||E.frames===1/0)&&E.count<E.frames&&E.count<a&&(w(),E.update(),E.count++)}),i.createElement("group",v,i.createElement("group",{traverse:()=>null,ref:C},i.createElement(d.Provider,{value:E},e)),i.createElement("mesh",{receiveShadow:!0,ref:U,scale:o,rotation:[-Math.PI/2,0,0]},i.createElement("planeGeometry",null),i.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:f,color:c,blend:u,map:D.progressiveLightMap2.texture})))}),x=i.forwardRef(({castShadow:e=!0,bias:t=.001,mapSize:r=512,size:a=5,near:o=.5,far:s=500,frames:l=1,position:u=[0,0,0],radius:m=1,amount:h=8,intensity:f=1,ambient:v=.5,...p},g)=>{let x=i.useRef(null),y=new n.Vector3(...u).length(),b=i.useContext(d),M=i.useCallback(()=>{let e;if(x.current)for(let t=0;t<x.current.children.length;t++)if(e=x.current.children[t],Math.random()>v)e.position.set(u[0]+n.MathUtils.randFloatSpread(m),u[1]+n.MathUtils.randFloatSpread(m),u[2]+n.MathUtils.randFloatSpread(m));else{let t=Math.acos(2*Math.random()-1)-Math.PI/2,r=2*Math.PI*Math.random();e.position.set(Math.cos(t)*Math.cos(r)*y,Math.abs(Math.cos(t)*Math.sin(r)*y),Math.sin(t)*y)}},[m,v,y,...u]),w=i.useMemo(()=>({update:M}),[M]);return i.useImperativeHandle(g,()=>w,[w]),i.useLayoutEffect(()=>{let e=x.current;return b&&b.lights.set(e.uuid,w),()=>void b.lights.delete(e.uuid)},[b,w]),i.createElement("group",(0,c.Z)({ref:x},p),Array.from({length:h},(n,l)=>i.createElement("directionalLight",{key:l,castShadow:e,"shadow-bias":t,"shadow-mapSize":[r,r],intensity:f/h},i.createElement("orthographicCamera",{attach:"shadow-camera",args:[-a,a,a,-a,o,s]}))))});class y{constructor(e,t,r=1024){this.renderer=e,this.res=r,this.scene=t,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new n.Color,this.clearAlpha=0;let a=/(Android|iPad|iPhone|iPod)/g.test(navigator.userAgent)?n.HalfFloatType:n.FloatType;this.progressiveLightMap1=new n.WebGLRenderTarget(this.res,this.res,{type:a,encoding:e.outputEncoding}),this.progressiveLightMap2=new n.WebGLRenderTarget(this.res,this.res,{type:a,encoding:e.outputEncoding}),this.discardMat=new v,this.targetMat=new n.MeshLambertMaterial({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=e=>{e.vertexShader="varying vec2 vUv;\n"+e.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";let t=e.fragmentShader.indexOf("void main() {");e.fragmentShader="varying vec2 vUv;\n"+e.fragmentShader.slice(0,t)+"uniform sampler2D previousShadowMap;\n	uniform float averagingWindow;\n"+e.fragmentShader.slice(t-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,e.uniforms.previousShadowMap=this.previousShadowMap,e.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(e=>{e.geometry?this.meshes.push({object:e,material:e.material}):e.isLight&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e,t=100){if(!this.object)return;this.averagingWindow.value=t,this.object.material=this.targetMat;let r=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,a=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,n=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(r),this.previousShadowMap.value=a.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=n}}let b=e=>e&&e.isOrthographicCamera,M=e=>e&&e.isBox3,w=i.createContext(null);function U({children:e,damping:t=6,fit:r,clip:a,observe:o,margin:s=1.2,eps:l=.01,onFit:c}){let u=i.useRef(null),{camera:m,invalidate:f,size:v,controls:d}=(0,h.z)(),p=d,g=i.useRef(c);function x(e,t){return Math.abs(e.x-t.x)<l&&Math.abs(e.y-t.y)<l&&Math.abs(e.z-t.z)<l}function y(e,t,r,a){e.x=n.MathUtils.damp(e.x,t.x,r,a),e.y=n.MathUtils.damp(e.y,t.y,r,a),e.z=n.MathUtils.damp(e.z,t.z,r,a)}g.current=c;let[U]=i.useState(()=>({animating:!1,focus:new n.Vector3,camera:new n.Vector3,zoom:1})),[C]=i.useState(()=>({focus:new n.Vector3,camera:new n.Vector3,zoom:1})),[D]=i.useState(()=>new n.Box3),E=i.useMemo(()=>{function e(){let e=D.getSize(new n.Vector3),t=D.getCenter(new n.Vector3),r=Math.max(e.x,e.y,e.z),a=b(m)?4*r:r/(2*Math.atan(Math.PI*m.fov/360)),i=b(m)?4*r:a/m.aspect;return{box:D,size:e,center:t,distance:s*Math.max(a,i)}}return{getSize:e,refresh(t){if(M(t))D.copy(t);else{let e=t||u.current;e.updateWorldMatrix(!0,!0),D.setFromObject(e)}if(D.isEmpty()){let e=m.position.length()||10;D.setFromCenterAndSize(new n.Vector3,new n.Vector3(e,e,e))}if((null==p?void 0:p.constructor.name)==="OrthographicTrackballControls"){let{distance:t}=e(),r=m.position.clone().sub(p.target).normalize().multiplyScalar(t),a=p.target.clone().add(r);m.position.copy(a)}return this},clip(){let{distance:t}=e();return p&&(p.maxDistance=10*t),m.near=t/100,m.far=100*t,m.updateProjectionMatrix(),p&&p.update(),f(),this},to({position:r,target:a}){U.camera.copy(m.position);let{center:n}=e();return C.camera.set(...r),a?C.focus.set(...a):C.focus.copy(n),t?U.animating=!0:m.position.set(...r),this},fit(){U.camera.copy(m.position),p&&U.focus.copy(p.target);let{center:r,distance:a}=e(),i=r.clone().sub(m.position).normalize().multiplyScalar(a);if(C.camera.copy(r).sub(i),C.focus.copy(r),b(m)){U.zoom=m.zoom;let e=0,a=0,i=[new n.Vector3(D.min.x,D.min.y,D.min.z),new n.Vector3(D.min.x,D.max.y,D.min.z),new n.Vector3(D.min.x,D.min.y,D.max.z),new n.Vector3(D.min.x,D.max.y,D.max.z),new n.Vector3(D.max.x,D.max.y,D.max.z),new n.Vector3(D.max.x,D.max.y,D.min.z),new n.Vector3(D.max.x,D.min.y,D.max.z),new n.Vector3(D.max.x,D.min.y,D.min.z)];for(let t of(r.applyMatrix4(m.matrixWorldInverse),i))t.applyMatrix4(m.matrixWorldInverse),e=Math.max(e,Math.abs(t.y-r.y)),a=Math.max(a,Math.abs(t.x-r.x));e*=2,a*=2;let o=(m.top-m.bottom)/e,l=(m.right-m.left)/a;C.zoom=Math.min(o,l)/s,t||(m.zoom=C.zoom,m.updateProjectionMatrix())}return t?U.animating=!0:(m.position.copy(C.camera),m.lookAt(C.focus),p&&(p.target.copy(C.focus),p.update())),g.current&&g.current(this.getSize()),f(),this}}},[D,m,p,s,t,f]);i.useLayoutEffect(()=>{if(p){let e=()=>U.animating=!1;return p.addEventListener("start",e),()=>p.removeEventListener("start",e)}},[p]);let S=i.useRef(0);return i.useLayoutEffect(()=>{(o||0==S.current++)&&(E.refresh(),r&&E.fit(),a&&E.clip())},[v,a,r,o,m,p]),(0,h.A)((e,r)=>{U.animating&&(y(U.focus,C.focus,t,r),y(U.camera,C.camera,t,r),U.zoom=n.MathUtils.damp(U.zoom,C.zoom,t,r),m.position.copy(U.camera),b(m)&&(m.zoom=U.zoom,m.updateProjectionMatrix()),p?(p.target.copy(U.focus),p.update()):m.lookAt(U.focus),f(),(!b(m)||Math.abs(U.zoom-C.zoom)<l)&&(b(m)||x(U.camera,C.camera))&&(!p||x(U.focus,C.focus))&&(U.animating=!1))}),i.createElement("group",{ref:u},i.createElement(w.Provider,{value:E},e))}let C={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function D({radius:e,adjustCamera:t}){let r=i.useContext(w);return i.useEffect(()=>{t&&r.refresh().clip().fit()},[e,t]),null}function E({children:e,center:t,adjustCamera:r=!0,intensity:a=.5,shadows:n="contact",environment:o="city",preset:s="rembrandt",...h}){var f,v,d,p,y,b,M,w;let E="string"==typeof s?C[s]:s,[{radius:S,height:z},Z]=i.useState({radius:0,width:0,height:0,depth:0}),j=null!==(f=null==n?void 0:n.bias)&&void 0!==f?f:-.0001,P=null!==(v=null==n?void 0:n.normalBias)&&void 0!==v?v:0,T=null!==(d=null==n?void 0:n.size)&&void 0!==d?d:1024,L=null!==(p=null==n?void 0:n.offset)&&void 0!==p?p:0,k="contact"===n||(null==n?void 0:n.type)==="contact",R="accumulative"===n||(null==n?void 0:n.type)==="accumulative",A={..."object"==typeof n?n:{}};return i.createElement(i.Fragment,null,i.createElement("ambientLight",{intensity:a/3}),i.createElement("spotLight",{penumbra:1,position:[E.main[0]*S,E.main[1]*S,E.main[2]*S],intensity:2*a,castShadow:!!n,"shadow-bias":j,"shadow-normalBias":P,"shadow-mapSize":T}),i.createElement("pointLight",{position:[E.fill[0]*S,E.fill[1]*S,E.fill[2]*S],intensity:a}),i.createElement(U,(0,c.Z)({fit:!!r,clip:!!r,margin:Number(r),observe:!0},h),i.createElement(D,{radius:S,adjustCamera:r}),i.createElement(m,(0,c.Z)({},t,{position:[0,L/2,0],onCentered:e=>{let{width:r,height:a,depth:n,boundingSphere:i}=e;Z({radius:i.radius,width:r,height:a,depth:n}),null!=t&&t.onCentered&&t.onCentered(e)}}),e)),i.createElement("group",{position:[0,-z/2-L/2,0]},k&&i.createElement(u.j,(0,c.Z)({scale:4*S,far:S,blur:2},A)),R&&i.createElement(g,(0,c.Z)({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:4*S},A),i.createElement(x,{amount:null!==(y=A.amount)&&void 0!==y?y:8,radius:null!==(b=A.radius)&&void 0!==b?b:S,ambient:null!==(M=A.ambient)&&void 0!==M?M:.5,intensity:null!==(w=A.intensity)&&void 0!==w?w:1,position:[E.main[0]*S,E.main[1]*S,E.main[2]*S],size:4*S,bias:-j,mapSize:T}))),o&&i.createElement(l.qA,o?"string"==typeof o?{preset:o}:o:null))}var S=r(3390);function z(e){let{scene:t,nodes:r,materials:o}=(0,s.L)("/webgl/lambo.glb");return(0,i.useEffect)(()=>{t.traverse(e=>"Mesh"===e.type&&(e.receiveShadow=!0,e.castShadow=!0,!0)),Object.assign(r.wheel003_020_2_Chrome_0.material,{metalness:1,roughness:.4,color:new n.Color("black")}),Object.assign(o.WhiteCar,{roughness:0,metalness:.25,emissive:new n.Color("#500000"),envMapIntensity:.5})},[t,r,o]),(0,a.jsx)("primitive",{object:t,...e})}function Z(){return(0,a.jsxs)(o.Xz,{dpr:[1,2],shadows:!0,camera:{fov:45},children:[(0,a.jsx)("color",{attach:"background",args:["#101010"]}),(0,a.jsx)("fog",{attach:"fog",args:["#101010",10,50]}),(0,a.jsxs)(i.Suspense,{fallback:null,children:[(0,a.jsx)(l.qA,{path:"/webgl/cube"}),(0,a.jsx)(E,{environment:null,intensity:1,contactShadowOpacity:1,shadowBias:-.0015,children:(0,a.jsx)(z,{scale:.01})})]}),(0,a.jsx)("mesh",{"rotation-x":-Math.PI/2,scale:100,children:(0,a.jsx)("meshStandardMaterial",{color:"#101010",transparent:!0,depthWrite:!1})}),(0,a.jsx)(S.z,{autoRotate:!0,enableZoom:!1,enablePan:!1,minPolarAngle:Math.PI/2.8,maxPolarAngle:Math.PI/2.8})]})}}},function(e){e.O(0,[2961,2709,8865,3390,2641,9774,2888,179],function(){return e(e.s=9223)}),_N_E=e.O()}]);